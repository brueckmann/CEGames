[{"name":"app.R","content":"library(DT)\nlibrary(shiny)\nlibrary(bslib)\n\n\nurlfile=\"https://raw.githubusercontent.com/brueckmann/CEGames/refs/heads/main/data/GamesOverview.csv\"\n\ngamedata <-readr::read_csv2(url(urlfile), na = \"NA\",\n                            trim_ws = TRUE, show_col_types = FALSE)\n\nui <- page_sidebar(\n\n  # App title ----\n  title = \"Last updated on 28 August 2025 by brueckmann.github.io.\",\n\n  # Sidebar panel for inputs ----\n  sidebar = sidebar(\n\n\n    # Input: Selectors for Filters ----\n    selectInput(\"onlyserious\",\n                \"Serious Games?\",\n                c(\"All\",\n                  unique(as.character(gamedata$`Known Serious Game`)))),\n\n    selectInput(\"onlineonly\",\n                \"Online Games?\",\n                c(\"All\",\n                  unique(as.character(gamedata$`Online Game`)))),\n\n    selectInput(\"onlyplaynow\",\n                \"Playable Now?\",\n                c(\"All\",\n                  unique(as.character(gamedata$`Playable Now`)))),\n\n\n    # checkboxGroupInput(\"variable\", \"Languages to show:\",\n    #                choices =     c(\"English\" = \"English\",\n    #                      \"Français\" = \"French\",\n    #                      \"Deutsch\" = \"German\",\n    #                      \"Español\" = \"Spanish\",\n    #                      \"More\" = \"More Lanuages\"\n    #                      ), selected =  c(\"English\", \"French\", \"German\", \"Spanish\")),\n\n    checkboxInput(\"displayunknownlang\", \"Show unknown language games?\", FALSE),\n\n\n\n    # Input: Numeric entry for number of obs to view ----\n    numericInput(\n      inputId = \"obs\",\n      label = \"Number of rows to display:\",\n      value = 18\n    )\n  ),\n\n\n  # # Output: Formatted text for caption ----\n  h3(\"List of 18 Climate and Energy (Serious) Games\"),\n\n\n  # Output: HTML table with requested number of observations ----\n  tableOutput(\"view\")\n)\n\n# Define server logic to summarize and view selected dataset ----\nserver <- function(input, output) {\n\n  data <- gamedata\n\n  datasetInput <- reactive({\n    if (input$onlineonly != \"All\") {\n      data <- data[data$`Online Game` == input$onlineonly, ]\n    }\n    if (input$onlyserious != \"All\") {\n      data <- data[data$`Known Serious Game` == input$onlyserious, ]\n    }\n    if (input$onlyplaynow != \"All\") {\n      data <- data[data$`Playable Now` == input$onlyplaynow, ]\n    }\n    if (input$displayunknownlang == FALSE) {\n      data <- data[data$`Language known` == \"Yes\", ]\n    }\n    # if (input$variable != \"English\") {\n    #   data <- data[data$`English` == 0, ]\n    # }\n    # if (input$variable != \"French\") {\n    #   data <- data[data$`French` == 0, ]\n    # }\n    # if (input$variable != \"German\") {\n    #   data <- data[data$`German` == 0, ]\n    # }\n    # if (input$variable != \"Spanish\") {\n    #   data <- data[data$`Spanish` == 0, ]\n    # }\n    # if (input$variable == \"More Languages\") {\n    #   data <- data[data$`More Languages` != 0, ]\n    # }\n    data\n  })\n\n\n\n\n  # Show the first \"n\" observations ----\n  # The output$view depends on both the databaseInput reactive\n  # expression and input$obs, so it will be re-executed whenever\n  # input$dataset or input$obs is changed\n  output$view <- renderTable({\n    head(datasetInput(), n = input$obs)\n  })\n}\n\n# Create Shiny app ----\nshinyApp(ui, server)\n","type":"text"}]
